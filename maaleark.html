<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√•leark: B√∏lger og Tr√•dl√∏s Kommunikasjon - VG1 Naturfag</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%);
            color: white;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .header {
            background: rgba(0,0,0,0.3);
            padding: 20px 24px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .header h1 { font-size: 24px; margin-bottom: 8px; }
        .header p { opacity: 0.8; }
        
        .main {
            max-width: 900px;
            margin: 0 auto;
            padding: 24px;
        }
        
        .card {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .card h2 { 
            font-size: 20px; 
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 2px solid rgba(255,255,255,0.2);
        }
        .card h3 { font-size: 16px; margin: 16px 0 8px 0; color: #fbbf24; }
        
        .card.blue { border-left: 4px solid #0ea5e9; }
        .card.green { border-left: 4px solid #10b981; }
        .card.orange { border-left: 4px solid #f59e0b; }
        .card.purple { border-left: 4px solid #8b5cf6; }
        .card.red { border-left: 4px solid #ef4444; }
        
        .checklist {
            list-style: none;
            padding: 0;
        }
        .checklist li {
            padding: 12px 16px;
            margin: 8px 0;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .checklist li:hover {
            background: rgba(255,255,255,0.1);
        }
        .checklist li.checked {
            background: rgba(16,185,129,0.2);
            border-left: 3px solid #10b981;
        }
        .checklist li.checked .checkbox {
            background: #10b981;
            border-color: #10b981;
        }
        .checklist li.checked .checkbox::after {
            content: '‚úì';
            color: white;
            font-size: 14px;
        }
        .checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid rgba(255,255,255,0.4);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 12px;
        }
        .concept {
            background: rgba(255,255,255,0.08);
            padding: 12px;
            border-radius: 8px;
        }
        .concept strong {
            color: #fbbf24;
            display: block;
            margin-bottom: 4px;
        }
        .concept span {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .formula-box {
            background: rgba(0,0,0,0.3);
            padding: 16px;
            border-radius: 8px;
            margin: 12px 0;
            font-family: 'Times New Roman', serif;
            font-size: 20px;
            text-align: center;
        }
        
        .progress-bar {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            height: 20px;
            overflow: hidden;
            margin: 16px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #34d399);
            border-radius: 10px;
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        
        .tip-box {
            background: rgba(251,191,36,0.15);
            border: 1px solid rgba(251,191,36,0.3);
            border-radius: 8px;
            padding: 12px 16px;
            margin: 12px 0;
            font-size: 14px;
        }
        .tip-box strong { color: #fbbf24; }
        
        .practice-q {
            background: rgba(255,255,255,0.05);
            padding: 16px;
            border-radius: 8px;
            margin: 12px 0;
        }
        .practice-q p {
            margin-bottom: 12px;
            font-weight: 500;
        }
        .practice-q .answer {
            background: rgba(16,185,129,0.2);
            padding: 12px;
            border-radius: 6px;
            font-size: 14px;
            display: none;
        }
        .practice-q .answer.show {
            display: block;
        }
        .show-btn {
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        .show-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .print-btn {
            background: #10b981;
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin: 8px;
        }
        .print-btn:hover {
            background: #059669;
        }
        
        .score-display {
            font-size: 48px;
            font-weight: bold;
            text-align: center;
            color: #10b981;
        }
        
        @media print {
            body { background: white; color: black; }
            .card { border: 1px solid #ccc; break-inside: avoid; }
            .no-print { display: none; }
            .checklist li { border: 1px solid #ddd; }
            .checkbox { border-color: #333; }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>üìã M√•leark: B√∏lger og Tr√•dl√∏s Kommunikasjon</h1>
        <p>VG1 Naturfag ‚Ä¢ Forberedelse til pr√∏ve</p>
    </header>
    
    <main class="main">
        <!-- PROGRESS -->
        <div class="card">
            <h2>üìä Din fremgang</h2>
            <p>Kryss av etter hvert som du f√∏ler deg trygg p√• hvert tema:</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 0%">0%</div>
            </div>
            <p style="text-align: center; font-size: 14px; opacity: 0.7;">
                <span id="checked-count">0</span> av <span id="total-count">0</span> l√¶ringsm√•l
            </p>
        </div>

        <!-- DEL 1: B√òLGER -->
        <div class="card blue">
            <h2>üåä Del 1: B√∏lger og svingninger</h2>
            
            <h3>L√¶ringsm√•l - Jeg kan:</h3>
            <ul class="checklist" id="list-waves">
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare hva en svingning er</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare hva en b√∏lge er og hvordan den overf√∏rer energi</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Definere frekvens (Hz) og periode (s)</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Definere b√∏lgelengde (Œª) og amplitude</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Bruke formelen v = f √ó Œª</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare forskjellen p√• transversale og longitudinale b√∏lger</li>
            </ul>
            
            <h3>N√∏kkelbegreper</h3>
            <div class="concept-grid">
                <div class="concept">
                    <strong>Frekvens (f)</strong>
                    <span>Antall svingninger per sekund. M√•les i Hz.</span>
                </div>
                <div class="concept">
                    <strong>Periode (T)</strong>
                    <span>Tid for √©n svingning. T = 1/f</span>
                </div>
                <div class="concept">
                    <strong>B√∏lgelengde (Œª)</strong>
                    <span>Avstand mellom to b√∏lgetopper. M√•les i meter.</span>
                </div>
                <div class="concept">
                    <strong>Amplitude</strong>
                    <span>Maks utslag fra likevekt. Bestemmer styrke/lydstyrke.</span>
                </div>
            </div>
            
            <h3>Viktig formel</h3>
            <div class="formula-box">
                v = f √ó Œª
                <br><span style="font-size: 14px;">(hastighet = frekvens √ó b√∏lgelengde)</span>
            </div>
            
            <div class="tip-box">
                <strong>üí° Huskeregel:</strong> H√∏y frekvens = kort b√∏lgelengde. Lav frekvens = lang b√∏lgelengde. (N√•r hastigheten er konstant)
            </div>
        </div>

        <!-- DEL 2: MEKANISKE OG EM B√òLGER -->
        <div class="card orange">
            <h2>‚ö° Del 2: Mekaniske og elektromagnetiske b√∏lger</h2>
            
            <h3>L√¶ringsm√•l - Jeg kan:</h3>
            <ul class="checklist" id="list-em">
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare forskjellen p√• mekaniske og elektromagnetiske b√∏lger</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Gi eksempler p√• mekaniske b√∏lger (lyd, vannb√∏lger)</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare at lydb√∏lger trenger et medium</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Navngi delene av det elektromagnetiske spekteret</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare at alle EM-b√∏lger har samme hastighet (c = 3√ó10‚Å∏ m/s)</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare sammenhengen mellom frekvens og energi i EM-str√•ling</li>
            </ul>
            
            <h3>EM-spekteret (lav ‚Üí h√∏y frekvens)</h3>
            <div style="background: linear-gradient(90deg, #ef4444, #f59e0b, #eab308, #22c55e, #0ea5e9, #6366f1, #8b5cf6); padding: 16px; border-radius: 8px; margin: 12px 0; text-align: center;">
                Radio ‚Üí Mikro ‚Üí Infrar√∏d ‚Üí <strong>Synlig lys</strong> ‚Üí UV ‚Üí R√∏ntgen ‚Üí Gamma
            </div>
            
            <div class="concept-grid">
                <div class="concept">
                    <strong>Mekaniske b√∏lger</strong>
                    <span>Trenger medium (lyd, vann). Kan ikke g√• i vakuum.</span>
                </div>
                <div class="concept">
                    <strong>EM-b√∏lger</strong>
                    <span>Trenger IKKE medium. G√•r i vakuum med lysets hastighet.</span>
                </div>
            </div>
            
            <div class="tip-box">
                <strong>üí° Pr√∏vetips:</strong> Husk rekkef√∏lgen med "Ring Mor I dag, Ser UV-R√∏dt Gamma" (Radio, Mikrob√∏lger, Infrar√∏d, Synlig, UV, R√∏ntgen, Gamma)
            </div>
        </div>

        <!-- DEL 3: B√òLGEFENOMENER -->
        <div class="card purple">
            <h2>üîÆ Del 3: B√∏lgefenomener</h2>
            
            <h3>L√¶ringsm√•l - Jeg kan:</h3>
            <ul class="checklist" id="list-phenomena">
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare refleksjon av b√∏lger</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare brytning (refraksjon) av b√∏lger</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare diffraksjon (b√∏ying rundt hindringer)</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare interferens (konstruktiv og destruktiv)</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare absorpsjon av b√∏lger</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Gi praktiske eksempler p√• disse fenomenene</li>
            </ul>
            
            <h3>N√∏kkelbegreper</h3>
            <div class="concept-grid">
                <div class="concept">
                    <strong>Refleksjon</strong>
                    <span>B√∏lgen spretter tilbake fra overflate. Eks: ekko, speil.</span>
                </div>
                <div class="concept">
                    <strong>Brytning</strong>
                    <span>B√∏lgen endrer retning ved overgang mellom medier.</span>
                </div>
                <div class="concept">
                    <strong>Diffraksjon</strong>
                    <span>B√∏lgen b√∏yer seg rundt hindringer/gjennom √•pninger.</span>
                </div>
                <div class="concept">
                    <strong>Interferens</strong>
                    <span>B√∏lger m√∏tes og forsterker/utslukker hverandre.</span>
                </div>
            </div>
            
            <div class="tip-box">
                <strong>üí° Eksempel:</strong> WiFi kan g√• rundt hj√∏rner pga. diffraksjon, men signalet svekkes gjennom vegger pga. absorpsjon!
            </div>
        </div>

        <!-- DEL 4: TR√ÖDL√òS KOMMUNIKASJON -->
        <div class="card green">
            <h2>üì° Del 4: Tr√•dl√∏s kommunikasjon</h2>
            
            <h3>L√¶ringsm√•l - Jeg kan:</h3>
            <ul class="checklist" id="list-wireless">
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare prinsippet bak tr√•dl√∏s kommunikasjon (sender ‚Üí signal ‚Üí mottaker)</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare forskjellen p√• analog og digital signaloverf√∏ring</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare hva modulasjon er</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare hvordan WiFi fungerer (2.4 GHz vs 5 GHz)</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare hvordan mobilnettet fungerer (basestasjoner, handover)</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Nevne fordeler med 5G over 4G</li>
                <li onclick="toggleCheck(this)"><div class="checkbox"></div>Forklare grunnleggende om kryptering</li>
            </ul>
            
            <h3>N√∏kkelbegreper</h3>
            <div class="concept-grid">
                <div class="concept">
                    <strong>Analog signal</strong>
                    <span>Kontinuerlig signal. Kan ha uendelig mange verdier.</span>
                </div>
                <div class="concept">
                    <strong>Digitalt signal</strong>
                    <span>Bare 0 og 1. Mer robust mot st√∏y.</span>
                </div>
                <div class="concept">
                    <strong>Modulasjon</strong>
                    <span>Endre b√¶reb√∏lgen for √• kode informasjon.</span>
                </div>
                <div class="concept">
                    <strong>Protokoll</strong>
                    <span>Regler for hvordan enheter kommuniserer.</span>
                </div>
            </div>
            
            <h3>WiFi-frekvenser</h3>
            <div class="concept-grid">
                <div class="concept">
                    <strong>2.4 GHz</strong>
                    <span>Lengre rekkevidde, bedre gjennom vegger, tregere</span>
                </div>
                <div class="concept">
                    <strong>5 GHz</strong>
                    <span>Kortere rekkevidde, raskere hastighet</span>
                </div>
            </div>
        </div>

        <!-- FLASHCARDS -->
        <div class="card" style="border-left: 4px solid #ec4899;">
            <h2>üÉè Flashcards - √òv p√• begreper</h2>
            <p>Klikk p√• kortet for √• se svaret. √òv til du kan alle!</p>
            
            <div style="text-align: center; margin: 24px 0;">
                <div id="flashcard" onclick="flipFlashcard()" style="
                    width: 100%;
                    max-width: 400px;
                    height: 200px;
                    margin: 0 auto;
                    cursor: pointer;
                    perspective: 1000px;
                ">
                    <div id="flashcard-inner" style="
                        position: relative;
                        width: 100%;
                        height: 100%;
                        transition: transform 0.6s;
                        transform-style: preserve-3d;
                    ">
                        <div id="card-front" style="
                            position: absolute;
                            width: 100%;
                            height: 100%;
                            backface-visibility: hidden;
                            background: linear-gradient(135deg, #8b5cf6, #6366f1);
                            border-radius: 16px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 22px;
                            font-weight: bold;
                            padding: 20px;
                            text-align: center;
                        "></div>
                        <div id="card-back" style="
                            position: absolute;
                            width: 100%;
                            height: 100%;
                            backface-visibility: hidden;
                            background: linear-gradient(135deg, #10b981, #059669);
                            border-radius: 16px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 16px;
                            padding: 20px;
                            transform: rotateY(180deg);
                            text-align: center;
                        "></div>
                    </div>
                </div>
                
                <p id="fc-progress" style="margin-top: 16px; opacity: 0.7;">Kort 1 av 20</p>
                
                <div style="display: flex; gap: 12px; justify-content: center; margin-top: 16px; flex-wrap: wrap;">
                    <button class="show-btn" onclick="prevFlashcard()">‚Üê Forrige</button>
                    <button class="show-btn" onclick="markKnown()" style="background: rgba(16,185,129,0.3);">‚úì Kan dette!</button>
                    <button class="show-btn" onclick="nextFlashcard()">Neste ‚Üí</button>
                </div>
                
                <div style="margin-top: 16px;">
                    <div style="background: rgba(255,255,255,0.1); border-radius: 8px; height: 8px; overflow: hidden;">
                        <div id="fc-progress-bar" style="height: 100%; background: #ec4899; transition: width 0.3s; width: 5%;"></div>
                    </div>
                    <p id="fc-known" style="font-size: 14px; margin-top: 8px;">Du kan: 0 av 20</p>
                </div>
                
                <button class="show-btn" onclick="shuffleCards()" style="margin-top: 12px;">üîÄ Stokk kortene</button>
            </div>
        </div>

        <!-- KOBLE BEGREP -->
        <div class="card" style="border-left: 4px solid #f59e0b;">
            <h2>üîó Koble begrep med forklaring</h2>
            <p>Dra begrepet til riktig forklaring (eller klikk for √• velge):</p>
            
            <div id="match-game" style="margin-top: 16px;">
                <div id="match-terms" style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 16px;"></div>
                <div id="match-defs"></div>
            </div>
            
            <div id="match-result" style="margin-top: 16px; display: none;"></div>
            <button class="show-btn" onclick="resetMatchGame()" style="margin-top: 12px;">üîÑ Pr√∏v p√• nytt</button>
        </div>

        <!-- √òVINGSOPPGAVER -->
        <div class="card red">
            <h2>‚úèÔ∏è √òvingsoppgaver</h2>
            <p>Test deg selv! Klikk for √• se fasit.</p>
            
            <div class="practice-q">
                <p><strong>1.</strong> En radiosender sender p√• 100 MHz. Hva er b√∏lgelengden? (c = 3√ó10‚Å∏ m/s)</p>
                <button class="show-btn" onclick="toggleAnswer(this)">Vis svar</button>
                <div class="answer">
                    Œª = v/f = (3√ó10‚Å∏ m/s) / (100√ó10‚Å∂ Hz) = <strong>3 meter</strong>
                </div>
            </div>
            
            <div class="practice-q">
                <p><strong>2.</strong> Hvorfor kan du h√∏re noen som roper rundt et hj√∏rne, selv om du ikke kan se dem?</p>
                <button class="show-btn" onclick="toggleAnswer(this)">Vis svar</button>
                <div class="answer">
                    Pga. <strong>diffraksjon</strong> - lydb√∏lgene b√∏yer seg rundt hj√∏rnet. Lydb√∏lger har relativt lang b√∏lgelengde sammenlignet med hj√∏rnet.
                </div>
            </div>
            
            <div class="practice-q">
                <p><strong>3.</strong> Hvorfor er det ingen lyd i verdensrommet?</p>
                <button class="show-btn" onclick="toggleAnswer(this)">Vis svar</button>
                <div class="answer">
                    Lyd er en <strong>mekanisk b√∏lge</strong> som trenger et medium (luft, vann, fast stoff) for √• bevege seg. I verdensrommet er det vakuum - ingen partikler som kan vibrere.
                </div>
            </div>
            
            <div class="practice-q">
                <p><strong>4.</strong> Forklar hvorfor 2.4 GHz WiFi har bedre rekkevidde enn 5 GHz.</p>
                <button class="show-btn" onclick="toggleAnswer(this)">Vis svar</button>
                <div class="answer">
                    <strong>Lavere frekvens = lengre b√∏lgelengde.</strong> Lengre b√∏lger difrakterer (b√∏yer) bedre rundt hindringer og absorberes mindre av vegger. Derfor n√•r 2.4 GHz lenger, men er tregere.
                </div>
            </div>
            
            <div class="practice-q">
                <p><strong>5.</strong> Hva er forskjellen p√• analog og digital signaloverf√∏ring?</p>
                <button class="show-btn" onclick="toggleAnswer(this)">Vis svar</button>
                <div class="answer">
                    <strong>Analog:</strong> Kontinuerlig signal med uendelig mange verdier. S√•rbar for st√∏y.<br>
                    <strong>Digital:</strong> Bare 0 og 1 (av/p√•). Robust mot st√∏y, kan feiljekkes, enkel √• kopiere perfekt.
                </div>
            </div>
            
            <div class="practice-q">
                <p><strong>6.</strong> Hvorfor er 5G raskere enn 4G?</p>
                <button class="show-btn" onclick="toggleAnswer(this)">Vis svar</button>
                <div class="answer">
                    5G bruker <strong>h√∏yere frekvenser</strong> (opptil mmWave) som kan b√¶re mer data. Har ogs√• <strong>lavere latens</strong> (1-10 ms vs 30-50 ms) og st√∏tter flere samtidige enheter.
                </div>
            </div>
        </div>

        <!-- BUTTONS -->
        <div class="card no-print" style="text-align: center;">
            <h2>üõ†Ô∏è Verkt√∏y</h2>
            <button class="print-btn" onclick="window.print()">üñ®Ô∏è Skriv ut m√•leark</button>
            <button class="print-btn" onclick="resetAll()" style="background: #6366f1;">üîÑ Nullstill alle kryss</button>
            <button class="print-btn" onclick="saveProgress()" style="background: #f59e0b;">üíæ Lagre fremgang</button>
        </div>
        
        <!-- LINK TIL √òKTER -->
        <div class="card no-print" style="text-align: center;">
            <h2>üìö √òv mer i det interaktive systemet</h2>
            <p style="margin-bottom: 16px;">G√• tilbake til √∏ktene for animasjoner, simuleringer og quiz:</p>
            <a href="index.html" class="print-btn" style="text-decoration: none; display: inline-block;">üéì G√• til l√¶ringssystemet</a>
        </div>
    </main>

    <script>
        function toggleCheck(element) {
            element.classList.toggle('checked');
            updateProgress();
            saveProgress();
        }
        
        function toggleAnswer(btn) {
            const answer = btn.nextElementSibling;
            answer.classList.toggle('show');
            btn.textContent = answer.classList.contains('show') ? 'Skjul svar' : 'Vis svar';
        }
        
        function updateProgress() {
            const total = document.querySelectorAll('.checklist li').length;
            const checked = document.querySelectorAll('.checklist li.checked').length;
            const percent = Math.round((checked / total) * 100);
            
            document.getElementById('progress-fill').style.width = percent + '%';
            document.getElementById('progress-fill').textContent = percent + '%';
            document.getElementById('checked-count').textContent = checked;
            document.getElementById('total-count').textContent = total;
        }
        
        function resetAll() {
            if (confirm('Er du sikker p√• at du vil nullstille alle kryss?')) {
                document.querySelectorAll('.checklist li').forEach(li => {
                    li.classList.remove('checked');
                });
                updateProgress();
                localStorage.removeItem('maaleark_progress');
            }
        }
        
        function saveProgress() {
            const checked = [];
            document.querySelectorAll('.checklist li').forEach((li, i) => {
                if (li.classList.contains('checked')) checked.push(i);
            });
            localStorage.setItem('maaleark_progress', JSON.stringify(checked));
        }
        
        function loadProgress() {
            const saved = localStorage.getItem('maaleark_progress');
            if (saved) {
                const checked = JSON.parse(saved);
                document.querySelectorAll('.checklist li').forEach((li, i) => {
                    if (checked.includes(i)) li.classList.add('checked');
                });
            }
            updateProgress();
        }
        
        // Init
        document.addEventListener('DOMContentLoaded', () => {
            loadProgress();
            initFlashcards();
            initMatchGame();
        });
        
        // ===== FLASHCARDS =====
        const flashcardData = [
            { term: 'Frekvens', def: 'Antall svingninger per sekund. M√•les i Hertz (Hz).' },
            { term: 'Periode', def: 'Tiden det tar for √©n hel svingning. T = 1/f' },
            { term: 'B√∏lgelengde (Œª)', def: 'Avstanden mellom to b√∏lgetopper. M√•les i meter.' },
            { term: 'Amplitude', def: 'Maksimalt utslag fra likevekt. Bestemmer styrke/energi.' },
            { term: 'Transversal b√∏lge', def: 'Svingning vinkelrett p√• bevegelsesretning. Eks: lys, tau.' },
            { term: 'Longitudinal b√∏lge', def: 'Svingning parallelt med bevegelsesretning. Eks: lyd.' },
            { term: 'Mekanisk b√∏lge', def: 'B√∏lge som trenger medium. Eks: lyd, vannb√∏lger.' },
            { term: 'EM-b√∏lge', def: 'Elektromagnetisk b√∏lge. Trenger ikke medium, g√•r i vakuum.' },
            { term: 'Refleksjon', def: 'B√∏lgen spretter tilbake fra en overflate. Eks: ekko, speil.' },
            { term: 'Brytning (refraksjon)', def: 'B√∏lgen endrer retning ved overgang mellom medier.' },
            { term: 'Diffraksjon', def: 'B√∏lgen b√∏yer seg rundt hindringer eller gjennom √•pninger.' },
            { term: 'Interferens', def: 'B√∏lger m√∏tes og forsterker eller utslukker hverandre.' },
            { term: 'Absorpsjon', def: 'B√∏lgen mister energi n√•r den g√•r gjennom et materiale.' },
            { term: 'Modulasjon', def: 'Endre en b√¶reb√∏lge for √• kode informasjon.' },
            { term: 'Analog signal', def: 'Kontinuerlig signal med uendelig mange verdier.' },
            { term: 'Digitalt signal', def: 'Signal med bare to verdier: 0 og 1.' },
            { term: 'Protokoll', def: 'Sett med regler for hvordan enheter kommuniserer.' },
            { term: 'Kryptering', def: 'Gj√∏re data uleselig for andre ved hjelp av en n√∏kkel.' },
            { term: 'IoT', def: 'Internet of Things - hverdagslige ting koblet til internett.' },
            { term: 'Latens', def: 'Forsinkelse i signaloverf√∏ring. M√•les i millisekunder.' }
        ];
        
        let currentFC = 0;
        let knownFC = [];
        let fcFlipped = false;
        let shuffledCards = [...flashcardData];
        
        function initFlashcards() {
            updateFlashcard();
        }
        
        function updateFlashcard() {
            document.getElementById('card-front').textContent = shuffledCards[currentFC].term;
            document.getElementById('card-back').textContent = shuffledCards[currentFC].def;
            document.getElementById('flashcard-inner').style.transform = 'rotateY(0deg)';
            fcFlipped = false;
            document.getElementById('fc-progress').textContent = `Kort ${currentFC + 1} av ${shuffledCards.length}`;
            document.getElementById('fc-progress-bar').style.width = `${((currentFC + 1) / shuffledCards.length) * 100}%`;
            document.getElementById('fc-known').textContent = `Du kan: ${knownFC.length} av ${shuffledCards.length}`;
        }
        
        function flipFlashcard() {
            fcFlipped = !fcFlipped;
            document.getElementById('flashcard-inner').style.transform = fcFlipped ? 'rotateY(180deg)' : 'rotateY(0deg)';
        }
        
        function nextFlashcard() {
            currentFC = (currentFC + 1) % shuffledCards.length;
            updateFlashcard();
        }
        
        function prevFlashcard() {
            currentFC = (currentFC - 1 + shuffledCards.length) % shuffledCards.length;
            updateFlashcard();
        }
        
        function markKnown() {
            if (!knownFC.includes(currentFC)) knownFC.push(currentFC);
            document.getElementById('fc-known').textContent = `Du kan: ${knownFC.length} av ${shuffledCards.length}`;
            nextFlashcard();
        }
        
        function shuffleCards() {
            shuffledCards = [...flashcardData].sort(() => Math.random() - 0.5);
            currentFC = 0;
            knownFC = [];
            updateFlashcard();
        }
        
        // ===== MATCH GAME =====
        const matchPairs = [
            { term: 'Frekvens', def: 'Antall svingninger per sekund' },
            { term: 'B√∏lgelengde', def: 'Avstand mellom to b√∏lgetopper' },
            { term: 'Diffraksjon', def: 'B√∏lger b√∏yer rundt hindringer' },
            { term: 'Interferens', def: 'B√∏lger forsterker/utslukker hverandre' },
            { term: 'Refleksjon', def: 'B√∏lger spretter tilbake' },
            { term: 'Absorpsjon', def: 'B√∏lger mister energi i materiale' }
        ];
        
        let selectedTerm = null;
        let matchedCount = 0;
        
        function initMatchGame() {
            const termsDiv = document.getElementById('match-terms');
            const defsDiv = document.getElementById('match-defs');
            termsDiv.innerHTML = '';
            defsDiv.innerHTML = '';
            selectedTerm = null;
            matchedCount = 0;
            document.getElementById('match-result').style.display = 'none';
            
            // Shuffle terms
            const shuffledTerms = [...matchPairs].sort(() => Math.random() - 0.5);
            const shuffledDefs = [...matchPairs].sort(() => Math.random() - 0.5);
            
            shuffledTerms.forEach((pair, i) => {
                const btn = document.createElement('button');
                btn.className = 'match-term';
                btn.textContent = pair.term;
                btn.dataset.term = pair.term;
                btn.style.cssText = 'padding: 10px 16px; border-radius: 8px; border: 2px solid #8b5cf6; background: rgba(139,92,246,0.2); color: white; cursor: pointer; font-size: 14px;';
                btn.onclick = () => selectTerm(btn);
                termsDiv.appendChild(btn);
            });
            
            shuffledDefs.forEach((pair, i) => {
                const div = document.createElement('div');
                div.className = 'match-def';
                div.dataset.term = pair.term;
                div.textContent = pair.def;
                div.style.cssText = 'padding: 12px 16px; margin: 8px 0; border-radius: 8px; border: 2px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.05); cursor: pointer; font-size: 14px;';
                div.onclick = () => selectDef(div);
                defsDiv.appendChild(div);
            });
        }
        
        function selectTerm(btn) {
            if (btn.classList.contains('matched')) return;
            document.querySelectorAll('.match-term').forEach(b => b.style.borderColor = '#8b5cf6');
            btn.style.borderColor = '#fbbf24';
            selectedTerm = btn.dataset.term;
        }
        
        function selectDef(div) {
            if (!selectedTerm || div.classList.contains('matched')) return;
            
            if (div.dataset.term === selectedTerm) {
                // Correct!
                div.style.borderColor = '#10b981';
                div.style.background = 'rgba(16,185,129,0.2)';
                div.classList.add('matched');
                
                const termBtn = document.querySelector(`.match-term[data-term="${selectedTerm}"]`);
                termBtn.style.borderColor = '#10b981';
                termBtn.style.background = 'rgba(16,185,129,0.2)';
                termBtn.classList.add('matched');
                
                matchedCount++;
                selectedTerm = null;
                
                if (matchedCount === matchPairs.length) {
                    document.getElementById('match-result').style.display = 'block';
                    document.getElementById('match-result').innerHTML = '<div style="background: rgba(16,185,129,0.2); padding: 16px; border-radius: 8px; text-align: center;"><strong>üéâ Alle riktig!</strong></div>';
                }
            } else {
                // Wrong - flash red
                div.style.borderColor = '#ef4444';
                setTimeout(() => {
                    div.style.borderColor = 'rgba(255,255,255,0.2)';
                }, 500);
            }
        }
        
        function resetMatchGame() {
            initMatchGame();
        }
    </script>
</body>
</html>
